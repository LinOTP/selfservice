<mat-horizontal-stepper [linear]="true" linear #stepper>
  <mat-step label="Install a soft token app">
    <p>You need an OATH compatible soft token app installed on your mobile device to proceed.</p>
    <p>Examples:</p>
    <ul>
      <li>FreeOTP</li>
      <li>Google Authenticator</li>
    </ul>
    <form>
      <mat-form-field>
        <input matInput placeholder="Token description" name="tokenDescription" [(ngModel)]="enrollData.description" [disabled]="!!enrolledToken"
          autofocus>
      </mat-form-field>
    </form>
    <div class="stepperControls">
      <a mat-raised-button [routerLink]="'../'">Cancel</a>
      <button mat-raised-button color="primary" *ngIf="!enrolledToken" (click)="enroll(stepper)">Enroll token</button>
      <button mat-raised-button color="primary" *ngIf="enrolledToken" matStepperNext>View token</button>
    </div>
  </mat-step>
  <mat-step label="Install your soft token profile">
    <p>Scan the QR code below with your soft token app or follow the link: </p>
    <div *ngIf="enrolledToken">
      <p>Serial: {{enrolledToken.serial}}</p>
      <p>Description: {{enrollData.description}}</p>
      <ngx-qrcode qrc-element-type="url" [qrc-value]="enrolledToken.url"></ngx-qrcode>
    </div>
    <p>Follow the instructions on your app to install the soft token profile.</p>
    <div class="stepperControls">
      <button mat-raised-button matStepperNext class="mat-primary">Finish</button>
    </div>
  </mat-step>
  <mat-step label="Done">
    <p>You can now use your event based soft token to authenticate.</p>
    <p>We recommend you to set a security PIN.</p>
    <button mat-raised-button>Set pin</button>
    <p>Next step is to verify your token is correctly enrolled via a test authentication.</p>
    <div class="stepperControls">
      <button mat-raised-button matStepperNext class="mat-primary">Test the token</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>
