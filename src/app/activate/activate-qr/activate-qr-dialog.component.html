<mat-horizontal-stepper [linear]="true" linear #stepper>
  <mat-step>
    <app-qr-code *ngIf="tokenQRUrl && waitingForResponse" [qrUrl]="tokenQRUrl"></app-qr-code>
    <section *ngIf="showError" class="response">
      <h2>An error occurred please try later again!</h2>
    </section>
    <mat-dialog-actions align="end">
      <div>Activation {{currentStep}} of {{maxSteps}}</div>
      <span class="spacer"></span>
      <button mat-raised-button (click)="cancelDialog()">Cancel</button>
    </mat-dialog-actions>
  </mat-step>
  <mat-step>
    <ng-container *ngIf="!waitingForResponse">
      <section class="response">
        <h2 *ngIf="restartDialog">QR token activation failed</h2>
        <h2 *ngIf="!restartDialog">QR token activation successful!</h2>
      </section>
      <mat-dialog-actions align="end">
        <div>Activation {{currentStep}} of {{maxSteps}}</div>
        <span class="spacer"></span>
        <button mat-raised-button (click)="cancelDialog()" *ngIf="restartDialog">Cancel</button>
        <button mat-raised-button (click)="resetDialogToInitial(stepper)" *ngIf="restartDialog">Restart activation
        </button>
        <button mat-raised-button (click)="cancelDialog()" *ngIf="!restartDialog">Finish</button>
      </mat-dialog-actions>
    </ng-container>
  </mat-step>
</mat-horizontal-stepper>
