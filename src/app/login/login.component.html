<mat-card id="loginCard">
  <mat-card-title i18n="card header|login page title">Login</mat-card-title>
  <form [formGroup]="loginFormGroup"
        (ngSubmit)="login()"
        *ngIf="!displaySecondFactor; else secondFactor">
    <mat-form-field>
      <input matInput
             formControlName="username"
             placeholder="Username"
             i18n-placeholder>
    </mat-form-field>
    <mat-form-field *ngIf="systemInfo?.realm_box">
      <mat-label i18n>Realm</mat-label>
      <mat-select formControlName="realm">
        <mat-option *ngFor="let realm of systemInfo.realms | keyvalue"
                    [value]="realm.key">
          {{realm.value.realmname}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <input matInput
             type="password"
             formControlName="password"
             placeholder="Password"
             i18n-placeholder>
    </mat-form-field>
    <button mat-raised-button
            type="submit"
            color="primary"
            i18n="login action|login page submit button">Login</button>
  </form>
</mat-card>

<ng-template #secondFactor>
  <form [formGroup]="secondFactorFormGroup"
        (ngSubmit)="submitSecondFactor()">
    <mat-form-field>
      <input matInput
             formControlName="otp"
             placeholder="OTP"
             i18n-placeholder>
    </mat-form-field>
    <button mat-raised-button
            type="submit"
            color="primary"
            i18n="2nd factor login action|login page second factor submit button">Submit</button>
  </form>
</ng-template>